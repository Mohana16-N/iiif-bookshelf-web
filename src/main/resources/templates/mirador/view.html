<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{base}">
  <head>
    <link rel="stylesheet" type="text/css" th:href="@{|/webjars/mirador/${miradorVersions.core}/css/mirador-combined.css|}" />
    <link rel="stylesheet" type="text/css" th:href="@{|/webjars/dbmdz__mirador-imagecropper/${miradorVersions.plugins.imageCropper}/imageCropper.css|}" />
    <link rel="stylesheet" type="text/css" th:href="@{|/webjars/dbmdz__mirador-manifestbutton/${miradorVersions.plugins.manifestButton}/manifestButton.min.css|}" />
    <style type="text/css">
      body { font-size: 14px; }
      body > div.container { width: 100% !important; }
    </style>
    <title th:utext="${title}">Label of manifest in current locale</title>
  </head>
  <body>
    <section layout:fragment="content">
      <div class="row">
        <div class="col-md-12">
          <div id="viewer"></div>
        </div>
      </div>
    </section>

  <th:block layout:fragment="morejs">
    <script th:src="@{|/webjars/mirador/${miradorVersions.core}/mirador.min.js|}"></script>
    <script th:src="@{|/webjars/dbmdz__mirador-imagecropper/${miradorVersions.plugins.imageCropper}/imageCropper.js|}"></script>
    <script th:src="@{|/webjars/dbmdz__mirador-keyboardnavigation/${miradorVersions.plugins.keyboardNavigation}/keyboardNavigation.min.js|}"></script>
    <script th:src="@{|/webjars/dbmdz__mirador-manifestbutton/${miradorVersions.plugins.manifestButton}/manifestButton.min.js|}"></script>
    <script th:src="@{|/webjars/dbmdz__mirador-physicalruler/${miradorVersions.plugins.physicalRuler}/physicalRuler.js|}"></script>
    <script th:src="@{|/webjars/dbmdz__mirador-viewfromurl/${miradorVersions.plugins.viewFromUrl}/viewFromUrl.min.js|}"></script>

    <script type="text/javascript" th:inline="javascript">
      $(function () {
        Mirador({
          'annotationEndpoint': {
            'name': 'Local Storage',
            'module': 'LocalStorageEndpoint'
          },
          'buildPath': /*[[@{/webjars/mirador/__${miradorVersions.core}__/}]]*/,
          'data': [{
            /*<![CDATA[*/
            'manifestUri': /*[[@{__${manifestId}__}]]*/
            /*]]>*/
          }],
          'id': 'viewer',
          'language': /*[[@{__${#locale.language}__}]]*/,
          'windowObjects': [{
            /*<![CDATA[*/
            'loadedManifest': /*[[@{__${manifestId}__}]]*/
            /*]]>*/
          }]
        });
      });
    </script>
  </th:block>
</body>
</html>