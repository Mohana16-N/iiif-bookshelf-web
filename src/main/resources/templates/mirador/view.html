<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:og="http://ogp.me/"
      layout:decorate="~{base}">
  <head>
    <link rel="stylesheet" type="text/css" th:href="@{|/webjars/mirador/${iiifVersions.mirador}/css/mirador-combined.css|}">
    <link rel="stylesheet" type="text/css" th:href="@{|/webjars/dbmdz__mirador-downloadmenu/${iiifVersions['mirador-downloadmenu']}/downloadMenu.min.css|}">
    <link rel="stylesheet" type="text/css" th:href="@{|/webjars/dbmdz__mirador-imagecropper/${iiifVersions['mirador-imagecropper']}/imageCropper.css|}">
    <link rel="stylesheet" type="text/css" th:href="@{|/webjars/dbmdz__mirador-sharebuttons/${iiifVersions['mirador-sharebuttons']}/shareButtons.css|}">
    <style type="text/css">
      body { font-size: 14px; }
      body > div.container { width: 100% !important; }
    </style>
    <title th:utext="${title}">Label of manifest in current locale</title>
  </head>

  <body>
    <p th:content="${preview}"></p>
    <p th:content="${previewWidth}"></p>
    <p th:content="${previewHeight}"></p>

    <section layout:fragment="content">
      <div class="row">
        <div class="col-md-12">
          <a th:href="@{/__${manifestSummary.viewId}__}"><i class="fa fa-angle-double-left" aria-hidden="true"></i> <span th:text="#{info}">info</span></a>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div id="viewer"></div>
        </div>
      </div>
    </section>

  <th:block layout:fragment="morejs">
    <script th:src="@{|/webjars/mirador/${iiifVersions.mirador}/mirador.min.js|}"></script>
    <script th:src="@{|/webjars/dbmdz__mirador-downloadmenu/${iiifVersions['mirador-downloadmenu']}/downloadMenu.min.js|}"></script>
    <script th:src="@{|/webjars/dbmdz__mirador-imagecropper/${iiifVersions['mirador-imagecropper']}/imageCropper.js|}"></script>
    <script th:src="@{|/webjars/dbmdz__mirador-keyboardnavigation/${iiifVersions['mirador-keyboardnavigation']}/keyboardNavigation.min.js|}"></script>
    <script th:src="@{|/webjars/dbmdz__mirador-physicalruler/${iiifVersions['mirador-physicalruler']}/physicalRuler.js|}"></script>
    <script th:src="@{|/webjars/dbmdz__mirador-sharebuttons/${iiifVersions['mirador-sharebuttons']}/shareButtons.js|}"></script>
    <script th:src="@{|/webjars/dbmdz__mirador-viewfromurl/${iiifVersions['mirador-viewfromurl']}/viewFromUrl.min.js|}"></script>

    <script type="text/javascript" th:inline="javascript">
      $(function () {
      Mirador({
      'annotationEndpoint': {
      'name': 'Local Storage',
              'module': 'LocalStorageEndpoint'
      },
              'buildPath': /*[[@{|/webjars/mirador/${iiifVersions.mirador}/|}]]*/,
              'data': [{
              /*<![CDATA[*/
              'manifestUri': /*[[@{|${manifestId}|}]]*/
                      /*]]>*/
              }],
              'id': 'viewer',
              'language': /*[[@{__${#locale.language}__}]]*/,
              'windowObjects': [{
              /*<![CDATA[*/
              'loadedManifest': /*[[@{|${manifestId}|}]]*/
                      /*]]>*/
              }]
      });
      });
    </script>
  </th:block>
</body>
</html>